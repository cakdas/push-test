<!DOCTYPE html>
<html>

<head>
	<title></title>
	<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
	<script>
		var OneSignal = window.OneSignal || [];
		OneSignal.push(function () {
			OneSignal.init({
				appId: "cf91a970-1be7-41c2-bfc6-216f9a35b2c7",
			});
		});
	</script>
</head>

<body>
	<script>
		OneSignal.push(function () {
			OneSignal.on('subscriptionChange', function (isSubscribed) {
				console.log(isSubscribed)
				if (isSubscribed === true) {
					OneSignal.sendTags({
						sub_url: window.location.href,
						topic: 'tags'
					}).then(function (tagsSent) {
						console.log("tagsSent: " + JSON.stringify(tagsSent))
					})
				}
			})
		})
	</script>
	<div>Test push</div>
	<div>
		<button onclick="rdrClick()" id="button">Red Dead Redemption</button>
		<br />
		<button onclick="mabClick()" id="button">Mount and Blade Bannerlord</button>
		<br />
		<button onclick="listTags()" id="button">List tags</button>
	</div>
	<div>
		<div>Tags</div>
		<div id="tags"></div>
	</div>
	<script>
		function rdrClick() {
			OneSignal.push(function () {
				OneSignal.sendTag("rdr2Notification", "1").then(function (tagsSent) {
					console.log("tags", tagsSent.rdr2Notification)
				})
			})
		}

		function mabClick() {
			OneSignal.push(function () {
				OneSignal.sendTag("mab2Notification", "1").then(function (tagsSent) {
					console.log("tags", tagsSent.rdr2Notification)
				})
			})
		}

		function listTags() {
			OneSignal.push(function () {
				OneSignal.getTags(function (tags) {
					document.getElementById("tags").innerHTML = JSON.stringify(tags)
				})
			})
		}
	</script>
</body>

</html>